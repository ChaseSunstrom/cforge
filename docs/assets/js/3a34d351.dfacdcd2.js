"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[911],{8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>c});var i=n(6540);const s={},o=i.createContext(s);function l(e){const r=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:r},e.children)}},8542:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"cross-compilation","title":"Cross-Compilation","description":"Cross-Compilation","source":"@site/docs/cross-compilation.md","sourceDirName":".","slug":"/cross-compilation","permalink":"/cforge/docs/cross-compilation","draft":false,"unlisted":false,"editUrl":"https://github.com/chasesunstrom/cforge/edit/main/docs/docs/cross-compilation.md","tags":[],"version":"current","frontMatter":{"id":"cross-compilation","title":"Cross-Compilation"},"sidebar":"sidebar","previous":{"title":"Build Variants","permalink":"/cforge/docs/build-variants"},"next":{"title":"IDE Integration","permalink":"/cforge/docs/ide-integration"}}');var s=n(4848),o=n(8453);const l={id:"cross-compilation",title:"Cross-Compilation"},c=void 0,d={},t=[{value:"Cross-Compilation",id:"cross-compilation",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Cross-Compilation Profiles",id:"cross-compilation-profiles",level:3},{value:"Using Profiles",id:"using-profiles",level:3},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Supported Platforms",id:"supported-platforms",level:3},{value:"Example: Android Setup",id:"example-android-setup",level:3},{value:"Example: Raspberry Pi Setup",id:"example-raspberry-pi-setup",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Toolchain file not found",id:"toolchain-file-not-found",level:4},{value:"Compiler not found",id:"compiler-not-found",level:4},{value:"Profile not found",id:"profile-not-found",level:4}];function a(e){const r={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h2,{id:"cross-compilation",children:"Cross-Compilation"}),"\n",(0,s.jsx)(r.p,{children:"CForge supports cross-compilation with a unified configuration system that makes it easy to build for different target platforms."}),"\n",(0,s.jsx)(r.h3,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,s.jsxs)(r.p,{children:["Enable cross-compilation with the ",(0,s.jsx)(r.code,{children:"[cross]"})," section in your ",(0,s.jsx)(r.code,{children:"cforge.toml"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",children:'[cross]\r\nenabled = true\r\n\r\n[cross.target]\r\nsystem = "Linux"           # CMAKE_SYSTEM_NAME\r\nprocessor = "aarch64"      # CMAKE_SYSTEM_PROCESSOR\r\ntoolchain = "path/to/toolchain.cmake"  # Optional CMake toolchain file\r\n\r\n[cross.compilers]\r\nc = "/usr/bin/aarch64-linux-gnu-gcc"\r\ncxx = "/usr/bin/aarch64-linux-gnu-g++"\r\n\r\n[cross.paths]\r\nsysroot = "/path/to/sysroot"\r\nfind_root = "/path/to/find/root"\r\n\r\n[cross.variables]\r\nMY_CUSTOM_VAR = "value"\n'})}),"\n",(0,s.jsx)(r.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Section"}),(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"enabled"})}),(0,s.jsx)(r.td,{children:"Enable cross-compilation (true/false)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.target]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"system"})}),(0,s.jsx)(r.td,{children:"Target system name (CMAKE_SYSTEM_NAME)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.target]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"processor"})}),(0,s.jsx)(r.td,{children:"Target processor (CMAKE_SYSTEM_PROCESSOR)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.target]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"toolchain"})}),(0,s.jsx)(r.td,{children:"Path to CMake toolchain file"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.compilers]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"c"})}),(0,s.jsx)(r.td,{children:"Path to C compiler"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.compilers]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"cxx"})}),(0,s.jsx)(r.td,{children:"Path to C++ compiler"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.paths]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"sysroot"})}),(0,s.jsx)(r.td,{children:"System root path (CMAKE_SYSROOT)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.paths]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"find_root"})}),(0,s.jsx)(r.td,{children:"Find root path (CMAKE_FIND_ROOT_PATH)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"[cross.variables]"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"*"})}),(0,s.jsx)(r.td,{children:"Custom CMake variables"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"cross-compilation-profiles",children:"Cross-Compilation Profiles"}),"\n",(0,s.jsx)(r.p,{children:"Define reusable cross-compilation profiles for different targets:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",children:'[cross.profile.android-arm64]\r\nsystem = "Android"\r\nprocessor = "aarch64"\r\ntoolchain = "${ANDROID_NDK}/build/cmake/android.toolchain.cmake"\r\nvariables = { ANDROID_ABI = "arm64-v8a", ANDROID_PLATFORM = "android-24" }\r\n\r\n[cross.profile.raspberry-pi]\r\nsystem = "Linux"\r\nprocessor = "armv7l"\r\ncompilers = { c = "arm-linux-gnueabihf-gcc", cxx = "arm-linux-gnueabihf-g++" }\r\nsysroot = "/path/to/rpi-sysroot"\r\n\r\n[cross.profile.ios]\r\nsystem = "iOS"\r\nprocessor = "arm64"\r\ntoolchain = "/path/to/ios.toolchain.cmake"\r\nvariables = { PLATFORM = "OS64" }\r\n\r\n[cross.profile.wasm]\r\nsystem = "Emscripten"\r\ntoolchain = "${EMSDK}/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake"\n'})}),"\n",(0,s.jsx)(r.h3,{id:"using-profiles",children:"Using Profiles"}),"\n",(0,s.jsxs)(r.p,{children:["Build with a specific profile using the ",(0,s.jsx)(r.code,{children:"--profile"})," flag:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Build for Android ARM64\r\ncforge build --profile android-arm64\r\n\r\n# Build for Raspberry Pi\r\ncforge build --profile raspberry-pi\r\n\r\n# Build for WebAssembly\r\ncforge build --profile wasm\n"})}),"\n",(0,s.jsx)(r.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(r.p,{children:"Toolchain paths support environment variable expansion:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",children:'[cross.profile.android-arm64]\r\ntoolchain = "${ANDROID_NDK}/build/cmake/android.toolchain.cmake"\n'})}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"${ANDROID_NDK}"})," will be replaced with the value of the ",(0,s.jsx)(r.code,{children:"ANDROID_NDK"})," environment variable at build time."]}),"\n",(0,s.jsx)(r.h3,{id:"supported-platforms",children:"Supported Platforms"}),"\n",(0,s.jsx)(r.p,{children:"CForge has been tested with the following cross-compilation targets:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Platform"}),(0,s.jsx)(r.th,{children:"System Name"}),(0,s.jsx)(r.th,{children:"Notes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Android"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Android"})}),(0,s.jsx)(r.td,{children:"Requires Android NDK"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"iOS"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"iOS"})}),(0,s.jsx)(r.td,{children:"Requires Xcode and iOS SDK"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Raspberry Pi"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Linux"})}),(0,s.jsx)(r.td,{children:"ARM cross-compiler toolchain"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"WebAssembly"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Emscripten"})}),(0,s.jsx)(r.td,{children:"Requires Emscripten SDK"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Linux ARM64"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Linux"})}),(0,s.jsx)(r.td,{children:"aarch64-linux-gnu toolchain"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Windows (MinGW)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Windows"})}),(0,s.jsx)(r.td,{children:"MinGW-w64 cross-compiler"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"example-android-setup",children:"Example: Android Setup"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Install the Android NDK and set ",(0,s.jsx)(r.code,{children:"ANDROID_NDK"})," environment variable"]}),"\n",(0,s.jsxs)(r.li,{children:["Add a profile to your ",(0,s.jsx)(r.code,{children:"cforge.toml"}),":"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",children:'[cross.profile.android-arm64]\r\nsystem = "Android"\r\nprocessor = "aarch64"\r\ntoolchain = "${ANDROID_NDK}/build/cmake/android.toolchain.cmake"\r\nvariables = { ANDROID_ABI = "arm64-v8a", ANDROID_PLATFORM = "android-24" }\n'})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsx)(r.li,{children:"Build:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cforge build --profile android-arm64\n"})}),"\n",(0,s.jsx)(r.h3,{id:"example-raspberry-pi-setup",children:"Example: Raspberry Pi Setup"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Install the ARM cross-compiler:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Ubuntu/Debian\r\nsudo apt install gcc-arm-linux-gnueabihf g++-arm-linux-gnueabihf\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Add a profile:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",children:'[cross.profile.raspberry-pi]\r\nsystem = "Linux"\r\nprocessor = "armv7l"\r\ncompilers = { c = "arm-linux-gnueabihf-gcc", cxx = "arm-linux-gnueabihf-g++" }\n'})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsx)(r.li,{children:"Build:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cforge build --profile raspberry-pi\n"})}),"\n",(0,s.jsx)(r.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(r.h4,{id:"toolchain-file-not-found",children:"Toolchain file not found"}),"\n",(0,s.jsx)(r.p,{children:"Make sure environment variables are set correctly:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"echo $ANDROID_NDK  # Should print path to NDK\n"})}),"\n",(0,s.jsx)(r.h4,{id:"compiler-not-found",children:"Compiler not found"}),"\n",(0,s.jsx)(r.p,{children:"Verify the cross-compiler is installed and in PATH:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"which arm-linux-gnueabihf-gcc\n"})}),"\n",(0,s.jsx)(r.h4,{id:"profile-not-found",children:"Profile not found"}),"\n",(0,s.jsx)(r.p,{children:"Check that the profile name matches exactly (case-sensitive):"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cforge build --profile android-arm64  # Correct\r\ncforge build --profile Android-ARM64  # Wrong - case mismatch\n"})})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);