"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[568],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var i=r(6540);const c={},d=i.createContext(c);function s(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),i.createElement(d.Provider,{value:n},e.children)}},8794:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"project-configuration","title":"Project Configuration","description":"Project Configuration","source":"@site/docs/project-configuration.md","sourceDirName":".","slug":"/project-configuration","permalink":"/cforge/docs/project-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/chasesunstrom/cforge/edit/main/docs/docs/project-configuration.md","tags":[],"version":"current","frontMatter":{"id":"project-configuration","title":"Project Configuration"},"sidebar":"sidebar","previous":{"title":"Command Reference","permalink":"/cforge/docs/command-reference"},"next":{"title":"Working with Dependencies","permalink":"/cforge/docs/dependencies"}}');var c=r(4848),d=r(8453);const s={id:"project-configuration",title:"Project Configuration"},t=void 0,l={},o=[{value:"Project Configuration",id:"project-configuration",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Using Version in Code",id:"using-version-in-code",level:3},{value:"CMake Integration",id:"cmake-integration",level:3},{value:"Platform-Specific Configuration",id:"platform-specific-configuration",level:3},{value:"Compiler-Specific Configuration",id:"compiler-specific-configuration",level:3},{value:"Platform + Compiler Combinations",id:"platform--compiler-combinations",level:3},{value:"Build Configurations",id:"build-configurations",level:3},{value:"Available Flags",id:"available-flags",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"project-configuration",children:"Project Configuration"}),"\n",(0,c.jsx)(n.h3,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"cforge.toml"})," file is the heart of your project configuration:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[project]\r\nname = "myproject"\r\nversion = "1.0.0"\r\ndescription = "My awesome C++ project"\r\ncpp_standard = "17"\r\nc_standard = "11"\r\nbinary_type = "executable" # executable, shared_library, static_library, header_only\r\nauthors = ["Your Name <you@example.com>"]\r\nlicense = "MIT"\r\n\r\n[build]\r\nbuild_type = "Debug"\r\ndirectory = "build"\r\nsource_dirs = ["src"]\r\ninclude_dirs = ["include"]\r\n\r\n[build.config.debug]\r\ndefines = ["DEBUG=1"]\r\nflags = ["DEBUG_INFO", "NO_OPT"]\r\n\r\n[build.config.release]\r\ndefines = ["NDEBUG=1"]\r\nflags = ["OPTIMIZE"]\r\n\r\n[test]\r\nenabled = true\r\ndirectory = "tests"\r\nframework = "catch2"  # or "gtest"\r\n\r\n[benchmark]\r\ndirectory = "bench"\r\ntarget = "benchmarks"\r\n\r\n[package]\r\nenabled = true\r\ngenerators = ["ZIP", "TGZ"]\r\nvendor = "Your Name"\n'})}),"\n",(0,c.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Section"}),(0,c.jsx)(n.th,{children:"Key"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"name"})}),(0,c.jsx)(n.td,{children:"Project name"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"version"})}),(0,c.jsx)(n.td,{children:"Project version (semantic versioning)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"description"})}),(0,c.jsx)(n.td,{children:"Project description"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"cpp_standard"})}),(0,c.jsx)(n.td,{children:"C++ standard (11, 14, 17, 20, 23)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"c_standard"})}),(0,c.jsx)(n.td,{children:"C standard (99, 11, 17)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"binary_type"})}),(0,c.jsx)(n.td,{children:"Output type (executable, shared_library, static_library, header_only)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"authors"})}),(0,c.jsx)(n.td,{children:"List of authors"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[project]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"license"})}),(0,c.jsx)(n.td,{children:"License identifier"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[build]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"build_type"})}),(0,c.jsx)(n.td,{children:"Default build type (Debug, Release, RelWithDebInfo, MinSizeRel)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[build]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"directory"})}),(0,c.jsx)(n.td,{children:"Build output directory"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[build]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"source_dirs"})}),(0,c.jsx)(n.td,{children:"Source file directories"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[build]"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"include_dirs"})}),(0,c.jsx)(n.td,{children:"Header file directories"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"using-version-in-code",children:"Using Version in Code"}),"\n",(0,c.jsxs)(n.p,{children:["The version from ",(0,c.jsx)(n.code,{children:"cforge.toml"})," is automatically available as compile definitions:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cpp",children:'#include <iostream>\r\n\r\nint main() {\r\n    // Generic version macros (works for any project)\r\n    std::cout << "Version: " << PROJECT_VERSION << std::endl;\r\n    std::cout << "Major: " << PROJECT_VERSION_MAJOR << std::endl;\r\n    std::cout << "Minor: " << PROJECT_VERSION_MINOR << std::endl;\r\n    std::cout << "Patch: " << PROJECT_VERSION_PATCH << std::endl;\r\n\r\n    // Project-specific macros (e.g., for project named "myapp")\r\n    // std::cout << MYAPP_VERSION << std::endl;\r\n\r\n    return 0;\r\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Available macros:"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Macro"}),(0,c.jsx)(n.th,{children:"Description"}),(0,c.jsx)(n.th,{children:"Example"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"PROJECT_VERSION"})}),(0,c.jsx)(n.td,{children:"Full version string"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:'"1.2.3"'})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"PROJECT_VERSION_MAJOR"})}),(0,c.jsx)(n.td,{children:"Major version number"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"1"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"PROJECT_VERSION_MINOR"})}),(0,c.jsx)(n.td,{children:"Minor version number"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"2"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"PROJECT_VERSION_PATCH"})}),(0,c.jsx)(n.td,{children:"Patch version number"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"3"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"<PROJECTNAME>_VERSION"})}),(0,c.jsx)(n.td,{children:"Project-specific version"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:'"1.2.3"'})})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"cmake-integration",children:"CMake Integration"}),"\n",(0,c.jsx)(n.p,{children:"Customize CMake behavior with includes, injections, and module paths:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[cmake]\r\nversion = "3.15"                      # Minimum CMake version\r\ngenerator = "Ninja"                    # CMake generator\r\nincludes = ["cmake/custom.cmake"]      # Custom CMake files to include\r\nmodule_paths = ["cmake/modules"]       # Custom module search paths\r\n\r\n# Inject custom CMake code\r\ninject_before_target = """\r\n# Code inserted before add_executable/add_library\r\ninclude(FetchContent)\r\n"""\r\n\r\ninject_after_target = """\r\n# Code inserted after add_executable/add_library\r\ntarget_precompile_headers(${PROJECT_NAME} PRIVATE <pch.hpp>)\r\n"""\r\n\r\n[cmake.compilers]\r\nc = "/usr/bin/gcc-12"\r\ncxx = "/usr/bin/g++-12"\r\n\r\n[cmake.visual_studio]\r\nplatform = "x64"\r\ntoolset = "v143"\n'})}),"\n",(0,c.jsx)(n.h3,{id:"platform-specific-configuration",children:"Platform-Specific Configuration"}),"\n",(0,c.jsx)(n.p,{children:"Configure settings per platform (windows, linux, macos):"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[platform.windows]\r\ndefines = ["WIN32", "_WINDOWS"]\r\nflags = ["/W4"]\r\nlinks = ["kernel32", "user32"]\r\n\r\n[platform.linux]\r\ndefines = ["LINUX"]\r\nflags = ["-Wall", "-Wextra"]\r\nlinks = ["pthread", "dl"]\r\n\r\n[platform.macos]\r\ndefines = ["MACOS"]\r\nflags = ["-Wall"]\r\nframeworks = ["Cocoa", "IOKit"]  # macOS frameworks\n'})}),"\n",(0,c.jsx)(n.h3,{id:"compiler-specific-configuration",children:"Compiler-Specific Configuration"}),"\n",(0,c.jsx)(n.p,{children:"Configure settings per compiler (msvc, gcc, clang, apple_clang, mingw):"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[compiler.msvc]\r\nflags = ["/W4", "/WX", "/permissive-"]\r\ndefines = ["_CRT_SECURE_NO_WARNINGS"]\r\n\r\n[compiler.gcc]\r\nflags = ["-Wall", "-Wextra", "-Wpedantic"]\r\n\r\n[compiler.clang]\r\nflags = ["-Wall", "-Wextra", "-Wpedantic"]\r\n\r\n[compiler.mingw]\r\nflags = ["-Wall", "-Wextra"]\r\ndefines = ["MINGW"]\n'})}),"\n",(0,c.jsx)(n.h3,{id:"platform--compiler-combinations",children:"Platform + Compiler Combinations"}),"\n",(0,c.jsx)(n.p,{children:"Combine platform and compiler for fine-grained control:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[platform.windows.compiler.msvc]\r\nflags = ["/W4"]\r\ndefines = ["_CRT_SECURE_NO_WARNINGS"]\r\n\r\n[platform.windows.compiler.mingw]\r\ndefines = ["MINGW_BUILD"]\r\nlinks = ["mingw32"]\r\n\r\n[platform.linux.compiler.gcc]\r\nflags = ["-Wall", "-Wextra", "-fPIC"]\n'})}),"\n",(0,c.jsx)(n.h3,{id:"build-configurations",children:"Build Configurations"}),"\n",(0,c.jsx)(n.p,{children:"Define build configurations with specific compiler flags and defines:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-toml",children:'[build.config.debug]\r\ndefines = ["DEBUG=1", "_DEBUG"]\r\nflags = ["DEBUG_INFO", "NO_OPT"]\r\n\r\n[build.config.release]\r\ndefines = ["NDEBUG=1"]\r\nflags = ["OPTIMIZE", "LTO"]\r\n\r\n[build.config.relwithdebinfo]\r\ndefines = ["NDEBUG=1"]\r\nflags = ["OPTIMIZE", "DEBUG_INFO"]\n'})}),"\n",(0,c.jsx)(n.h3,{id:"available-flags",children:"Available Flags"}),"\n",(0,c.jsx)(n.p,{children:"Abstract flags that translate to compiler-specific options:"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Flag"}),(0,c.jsx)(n.th,{children:"Description"}),(0,c.jsx)(n.th,{children:"MSVC"}),(0,c.jsx)(n.th,{children:"GCC/Clang"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"DEBUG_INFO"})}),(0,c.jsx)(n.td,{children:"Debug symbols"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"/Zi"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"-g"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"NO_OPT"})}),(0,c.jsx)(n.td,{children:"Disable optimization"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"/Od"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"-O0"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"OPTIMIZE"})}),(0,c.jsx)(n.td,{children:"Full optimization"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"/O2"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"-O3"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"LTO"})}),(0,c.jsx)(n.td,{children:"Link-time optimization"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"/GL"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"-flto"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"UNICODE"})}),(0,c.jsx)(n.td,{children:"Unicode support"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"/DUNICODE"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"-DUNICODE"})})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);